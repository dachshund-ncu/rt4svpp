<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CCfits: Installing the Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CCfits
   &#160;<span id="projectnumber">2.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installing the Package </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="platform"></a>
Platforms</h1>
<p><a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> is generally supported on the same platforms as <a href="https://heasarc.gsfc.nasa.gov/docs/software/lheasoft/">HEASOFT</a>, and on Windows with VC++ 7.0 or later. See the HEASOFT <a href="https://heasarc.gsfc.nasa.gov/docs/software/lheasoft/supported_platforms.html">supported platforms</a> page.</p>
<h1><a class="anchor" id="build"></a>
Building</h1>
<p>To build and install <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> from source code on a UNIX-like (e.g. UNIX, Linux, or Cygwin) platform, take the following steps. For building on a Microsoft Windows platform with Visual Developer Studio, see below.</p>
<h2><a class="anchor" id="unix"></a>
UNIX-like platforms</h2>
<p>1. Configure</p>
<p>The configure script will create the Makefile with the path to the compiler you choose (or GCC by default), and the path to the CFITSIO package. To see all options available with configure, type</p>
<p><code> &gt; ./configure &ndash;help </code></p>
<p>1.a. Compiler Choice</p>
<p>By default, the GCC compiler and linker will be used. If you want to compile and link with a different compiler and linker, you can set some environment variables before running the configure script. For example, to use Sun's C++ compiler, do the following:</p>
<p><code> &gt; setenv CXX CC </code> (csh syntax)</p>
<p>or</p>
<p><code> &gt; export CXX=CC </code> (bash syntax)</p>
<p>You can set the absolute path to the compiler you want to use if necessary.</p>
<p>See also the compiler tips for installing HEASoft:</p>
<p><a href="https://heasarc.gsfc.nasa.gov/docs/software/lheasoft/">https://heasarc.gsfc.nasa.gov/docs/software/lheasoft/</a></p>
<p>1.b. CFITSIO Location</p>
<p><a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> requires that the CFITSIO package is available on your system. See</p>
<p><a href="http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html">http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html</a></p>
<p>for more information. The configure script that you will run takes an option to specify the location of the CFITSIO package.</p>
<p>If the CFITSIO package is installed in a directory consisting of a 'lib' subdirectory containing "libcfitsio.a" or "libcfitsio.so" and an 'include' subdirectory containing "fitsio.h", then you can run the configure script with a single option. For example, if the cfitsio package is installed in this fashion in /usr/local/cfitsio/, then the configure script option will be</p>
<p><code> &ndash;with-cfitsio=/usr/local/cfitsio </code></p>
<p>If the CFITSIO package is not installed in the above manner, then you need to run the configure script with two options, one to specify the include directory and the other to specify the library directory. For example, if the cfitsio package was built in /home/user/cfitsio/ then the two options will be</p>
<p><code> &ndash;with-cfitsio-include=/home/user/cfitsio </code> <code> &ndash;with-cfitsio-libdir=/home/user/cfitsio </code></p>
<p>For users of HEASoft (instead of stand-alone CFITSIO): You can configure <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a>, after initializing HEASoft, using</p>
<p><code> &ndash;with-cfitsio=$HEADAS </code></p>
<p>1.c. Build Location</p>
<p>You have the option of carrying out the build in a separate directory from the source directory or in the same directory as the source. In either case, you need to run the configure script in the directory where the build will occur. For example, if building in the source directory, with the cfitsio directory in /usr/local/cfitsio/, then the configure command should be issued like this:</p>
<p><code> &gt; ./configure &ndash;with-cfitsio=/usr/local/cfitsio </code></p>
<p>If you do the build in a separate directory from the source, you may need to issue the configure command something like this:</p>
<p><code> &gt; ../CCfits/configure &ndash;with-cfitsio=/usr/local/cfitsio </code></p>
<p>1.d. Install Location</p>
<p>If you would like to install the <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> files in a separate location, you can do that during the "make install" command (DESTDIR, described below), or you can specify the location during configure. For example, if you would like the <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> files installed in /usr/local/CCfits, you would run the configure command like this:</p>
<p><code> &gt; ./configure &ndash;prefix=/usr/local/CCfits </code></p>
<p>2. Build</p>
<p>Building the C++ shared library will be done automatically by running make (or gmake if you prefer the GNU make) without arguments like this:</p>
<p><code> &gt; gmake </code></p>
<p>3. Install</p>
<p>To install, type:</p>
<p><code> &gt; make install </code></p>
<p>The default install location will be /usr/local/lib for the library and /usr/local/include for the header files. If you do not have permission to write to these locations, you will need to specify another install location. You can change this with the &ndash;prefix option when you configure, or with the DESTDIR variable when installing. The DESTDIR option will create a /usr/local/ path in that specified location.</p>
<p>Note that you will also need to update your LD_LIBRARY_PATH:</p>
<p><code> &gt; export LD_LIBRARY_PATH="/usr/local/CCfits/usr/local/lib/:$LD_LIBRARY_PATH" </code></p>
<p><code> &gt; make DESTDIR=/usr/local/CCfits install </code></p>
<h2><a class="anchor" id="windows"></a>
Microsoft Windows</h2>
<p>These instructions follow similar steps to the building of the CFITSIO library on Windows, described at</p>
<p><a href="http://heasarc.gsfc.nasa.gov/FTP/software/fitsio/c/README.win">http://heasarc.gsfc.nasa.gov/FTP/software/fitsio/c/README.win</a></p>
<p>and rely having the following already installed on your system:</p>
<p>a) Microsoft Visual Studio b) The CMake build system available from <a href="http://www.cmake.org">http://www.cmake.org</a> c) The CFITSIO library available from</p>
<p><a href="http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html">http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html</a></p>
<p>1. After unzipping and untarring the <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> source code tarball, the source code will appear in a new \<a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> subdirectory.</p>
<p>2. Open the Visual Studio Developer Command Prompt window and create a directory named "CCfits.build" parallel to this <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> source code directory.</p>
<p>mkdir CCfits.build cd CCfits.build</p>
<p>This will be the directory from which CMake generate its files and performs the build.</p>
<p>3. Decide which CMake generator you will want to use. The full list is shown by doing</p>
<p>cmake.exe /?</p>
<p>We've done successful builds using Visual Studio's 'nmake' utility, and so recommend choosing "NMake Makefiles" as the generator option. However if you wish to perform the build inside a Visual Studio IDE, you should choose the appropriate "Visual Studio &lt;version&gt;" generator.</p>
<p>4. Now run cmake.exe to generate the necessary Makefiles. With this command you must specify the path to your CFITSIO library and header files by setting the '-DCMAKE_PREFIX_PATH' option. This path should be set to the root directory of your CFITSIO installation, from which it will look in \lib and \include subdirectories for the library and header files respectively. Your full cmake command may then look like:</p>
<p>CCfits.build&gt;cmake.exe -G"NMake Makefiles" -DCMAKE_PREFIX_PATH=C:\path\to\your\CFITSIO ..\<a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a></p>
<p>If you wish to eventually install <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a> at any place other than the default location ("C:\Program Files"), you should pass an additional flag to the cmake command above:</p>
<p>-DCMAKE_INSTALL_PREFIX=C:\path\to\your\<a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a>\installation</p>
<p>5. Build and install <a class="el" href="namespaceCCfits.html" title="Namespace enclosing all CCfits classes and globals definitions. ">CCfits</a>:</p>
<p>CCfits.build&gt; nmake</p>
<p>If all goes well you should now have a CCfits.lib library and cookbook.exe executable in your CCfits.build directory. To test the build you can run cookbook.exe, which should generate 3 output FITS files: atestfil, btestfil, and ctestfil.fit.</p>
<p>Now install CCfits.lib and its header files into the default installation location, or the directory you specified in step 4:</p>
<p>CCfits.build&gt; nmake install </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 27 2021 16:31:26 for CCfits by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
